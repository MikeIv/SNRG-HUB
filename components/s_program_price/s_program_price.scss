@import '@/assets/styles/tools/mixins';

input[type='number'] {
  -moz-appearance: textfield;
}

input::-webkit-outer-spin-button,
input::-webkit-inner-spin-button {
  -webkit-appearance: none;
}

.s-program-price {
  position: relative;
  overflow: hidden;

  @media screen and (max-width: 991px) {
    margin: rem(12) auto;
  }

  .l-wide {
    background: var(--a-color_banner--lightcyan);
  }

  .m-form-pay {
    padding: 0;
    @media screen and (max-width: 991px) {
      .m-form-pay__reg {
        max-width: 100%;
      }
    }
    .m-form-pay__course {
      align-self: flex-start;
      max-width: 100%;
    }
  }

  .m-form__input-error {
    width: 100%;
    margin: 0 rem(6) rem(4);
    color: var(--a-color_link);
    font-size: rem(14);

    @media screen and (max-width: 991px) {
      margin: 0 0 rem(4);
    }

    &.unknown {
      margin-bottom: rem(8);
    }
  }

  .m-form__input.error-name input,
  .m-form__input.error-mail input {
    border: 2px solid var(--a-color_link);
    &:focus {
      border: 2px solid var(--a-color_link);
    }
  }
  .m-form__input.vue-tel-input.error {
    border: 2px solid var(--a-color_link);
  }
  .m-form__input.vue-tel-input.error input {
    border: none;
    &:focus {
      border: none;
    }
  }

  &__confirmation {
    .a-popup__container {
      position: relative;
      max-width: rem(385);
      padding: rem(40);

      @media screen and (max-width: 575px) {
        padding: rem(28) rem(16);
      }

      @media screen and (max-width: 435px) {
        max-width: unset;
        margin: auto 0 0;
        border-bottom-right-radius: 0;
        border-bottom-left-radius: 0;
      }
    }

    .a-popup__close {
      position: absolute;
      top: rem(15);
      right: rem(15);
      font-size: rem(22);
    }
    &.a-popup {
      width: auto;

      @media screen and (max-width: 435px) {
        padding-bottom: 0;
      }
    }

    &-title {
      margin-bottom: rem(24);
      font-size: rem(28);
      line-height: rem(36);

      @media screen and (max-width: 575px) {
        font-size: rem(20);
        line-height: rem(28);
      }
    }

    &-telephone {
      margin-bottom: rem(24);
      color: var(--a-color_thumbnail);
      font-size: rem(24);
      font-weight: 700;
      line-height: rem(30);

      .code {
        color: var(--a-color_link);
      }
    }

    &-text {
      margin-bottom: rem(20);
      color: var(--a-color_text);
      font-size: rem(16);
      line-height: rem(24);
    }

    &-inputs {
      display: flex;
      flex-direction: row;
      justify-content: space-between;
      align-items: center;
      margin-bottom: rem(24);

      @media screen and (max-width: 575px) {
        justify-content: center;
      }
    }

    &-input {
      width: rem(56);
      height: rem(56);
      padding: rem(10);
      border: rem(1) solid var(--a-color_text);
      border-radius: rem(4);
      outline: none;
      font-size: rem(24);
      text-align: center;

      & + .s-program-price__confirmation-input {
        margin-left: rem(20);
      }
    }

    &-checkbox {
      align-items: flex-start;
      margin-bottom: rem(24);
      padding: 0;

      .a-control__box {
        margin-top: rem(5);
      }

      .a-control__label-control {
        color: var(--a-color_text--secondary);
      }
    }

    &-message {
      display: block;
      margin-bottom: rem(20);
      color: var(--a-color_text--secondary);
      text-align: center;
    }

    &-button {
      width: 100%;
      height: rem(44);

      & + .s-program-price__confirmation-button {
        margin-top: rem(20);
      }
    }

    &-error {
      display: block;
      margin-bottom: rem(20);
      color: var(--a-color_link);
      text-align: center;
    }
  }

  &__authorized {
    width: 100%;
    margin: 0 rem(6) rem(30);

    @media screen and (max-width: 991px) {
      margin: 0 0 rem(30);
    }

    &-row {
      display: flex;
      align-items: center;
      width: 100%;

      & + .s-program-price__authorized-row {
        margin-top: rem(16);
      }
    }

    &-label {
      display: block;
      width: 100%;
      max-width: rem(85);
      color: var(--a-color_text--secondary);
    }

    &-value {
      display: block;
      width: 100%;
    }
  }

  &__form {
    &.authorized {
      .m-form-pay__wrapper {
        min-height: rem(470);
      }

      .m-form-pay__reg {
        position: relative;
        z-index: 10;
        display: flex;
        overflow: hidden;
        flex-direction: column;
        justify-content: flex-end;

        @media screen and (max-width: 991px) {
          flex-direction: row;
          justify-content: space-between;
          align-items: flex-start;
        }

        @media screen and (max-width: 767px) {
          flex-direction: column;
          justify-content: flex-end;
          min-height: rem(448);
        }

        &::before {
          content: url('/payment-thanks/decore-1.png');
          position: absolute;
          z-index: -1;
          top: 0;
          right: 0;

          @media screen and (max-width: 991px) {
            content: url('/payment-thanks/decore-2.png');
            top: unset;
            right: unset;
            left: 0;
            bottom: 0;
          }

          @media screen and (max-width: 767px) {
            top: 0;
            right: 0;
            left: unset;
            bottom: unset;
            transform: rotate(180deg);
          }
        }

        &::after {
          content: url('/payment-thanks/decore-3.png');
          position: absolute;
          z-index: -1;
          top: rem(24);
          left: rem(32);

          @media screen and (max-width: 991px) {
            content: url('/payment-thanks/decore-4.png');
            top: unset;
            left: rem(170);
            bottom: rem(50);
          }

          @media screen and (max-width: 767px) {
            top: rem(58);
            left: rem(36);
            bottom: unset;
            transform: rotate(180deg);
          }
        }
      }
    }
  }
}
